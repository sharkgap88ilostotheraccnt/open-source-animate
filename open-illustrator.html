<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Open Illustrator 2.3</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

    /* Root colors */
    :root {
      --blue: #0078D7;
      --blue-dark: #005a9e;
      --gray-darker: #161616;
      --gray-dark: #1e1e1e;
      --gray-mid: #2e2e2e;
      --gray-light: #444;
      --gray-lighter: #666;
      --text-light: #ddd;
      --text-dark: #222;
      --border-color: #444;
      --panel-bg: #222;
      --panel-bg-light: #2c2c2c;
    }

    /* Reset and base */
    * {
      box-sizing: border-box;
    }
    body, html {
      margin: 0; padding: 0; height: 100%;
      font-family: 'Inter', sans-serif;
      background: var(--gray-darker);
      color: var(--text-light);
      user-select: none;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    /* Top Menu Bar */
    .top-menu {
      height: 36px;
      background: var(--gray-dark);
      display: flex;
      align-items: center;
      padding: 0 12px;
      gap: 12px;
      font-size: 13px;
      color: var(--text-light);
      border-bottom: 1px solid var(--border-color);
      user-select: none;
      flex-shrink: 0;
    }
    .top-menu-item {
      padding: 6px 10px;
      cursor: pointer;
      border-radius: 3px;
      transition: background-color 0.15s ease;
      white-space: nowrap;
    }
    .top-menu-item:hover, .top-menu-item:focus {
      background: var(--blue);
      color: white;
      outline: none;
    }

    /* Toolbar under menu */
    .toolbar {
      height: 48px;
      background: var(--gray-mid);
      display: flex;
      align-items: center;
      padding: 0 16px;
      gap: 14px;
      border-bottom: 1px solid var(--gray-light);
      flex-shrink: 0;
    }
    .toolbar-button {
      width: 36px;
      height: 36px;
      background: var(--gray-dark);
      border: 1px solid var(--gray-light);
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background-color 0.2s ease, border-color 0.2s ease;
      color: var(--text-light);
      position: relative;
    }
    .toolbar-button:hover, .toolbar-button:focus {
      background: var(--blue);
      border-color: var(--blue-dark);
      color: white;
      outline: none;
    }
    .toolbar-button svg {
      width: 20px;
      height: 20px;
      stroke: currentColor;
      fill: none;
      stroke-width: 2;
    }
    .toolbar-button:active {
      background: var(--blue-dark);
      border-color: var(--blue);
      color: white;
    }

    /* Main content area flex */
    .main-content {
      display: flex;
      flex: 1;
      background: var(--gray-darker);
      overflow: hidden;
    }

    /* Canvas container */
    #canvas-container {
      flex: 1;
      background: #121212;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: auto;
      position: relative;
    }
    #canvas {
      background: #222;
      width: 80vw;
      height: 80vh;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      box-shadow: 0 0 12px rgba(0,0,0,0.8);
    }

    /* Panels on the right */
    .side-panels {
      width: 320px;
      display: flex;
      flex-direction: column;
      background: var(--panel-bg);
      border-left: 1px solid var(--border-color);
      overflow-y: auto;
      padding: 10px 8px;
      gap: 12px;
    }

    /* Panel base style */
    .panel {
      background: var(--panel-bg-light);
      border: 1px solid var(--border-color);
      border-radius: 6px;
      padding: 12px 14px;
      color: var(--text-light);
      font-size: 14px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
    }

    /* Panel headings */
    .panel > h2 {
      margin-top: 0;
      margin-bottom: 12px;
      font-weight: 600;
      font-size: 16px;
      color: var(--blue);
      user-select: none;
    }

    /* Layers panel styles */
    .layers-list {
      max-height: 250px;
      overflow-y: auto;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background: var(--gray-dark);
    }
    .layer-item {
      padding: 8px 10px;
      border-bottom: 1px solid var(--border-color);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      user-select: none;
      transition: background-color 0.2s ease;
      font-size: 13px;
    }
    .layer-item:hover, .layer-item.selected {
      background: var(--blue);
      color: white;
    }
    .layer-item:last-child {
      border-bottom: none;
    }
    .layer-visibility {
      cursor: pointer;
      opacity: 0.6;
      transition: opacity 0.2s ease;
    }
    .layer-visibility:hover {
      opacity: 1;
    }

    /* Properties panel */
    .properties-grid {
      display: grid;
      grid-template-columns: 110px 1fr;
      gap: 6px 10px;
      font-size: 13px;
    }
    .properties-grid label {
      user-select: none;
      color: var(--gray-lighter);
      padding-top: 4px;
    }
    .properties-grid input, .properties-grid select {
      background: var(--gray-dark);
      border: 1px solid var(--border-color);
      border-radius: 3px;
      color: var(--text-light);
      padding: 4px 6px;
      font-size: 13px;
      outline: none;
      transition: border-color 0.2s ease;
    }
    .properties-grid input:focus, .properties-grid select:focus {
      border-color: var(--blue);
    }

    /* Scrollbars for panels */
    .side-panels::-webkit-scrollbar {
      width: 8px;
    }
    .side-panels::-webkit-scrollbar-thumb {
      background-color: var(--blue);
      border-radius: 6px;
    }

    /* Status bar at bottom */
    .status-bar {
      height: 24px;
      background: var(--gray-dark);
      border-top: 1px solid var(--border-color);
      color: #999;
      font-size: 12px;
      display: flex;
      align-items: center;
      padding: 0 12px;
      flex-shrink: 0;
      user-select: none;
    }

  </style>
</head>
<body>

  <!-- Top menu -->
  <nav class="top-menu" role="menubar" aria-label="Main menu">
    <div class="top-menu-item" role="menuitem" tabindex="0">File</div>
    <div class="top-menu-item" role="menuitem" tabindex="0">Edit</div>
    <div class="top-menu-item" role="menuitem" tabindex="0">Object</div>
    <div class="top-menu-item" role="menuitem" tabindex="0">View</div>
    <div class="top-menu-item" role="menuitem" tabindex="0">Window</div>
    <div class="top-menu-item" role="menuitem" tabindex="0">Help</div>
  </nav>

  <!-- Toolbar -->
  <div class="toolbar" role="toolbar" aria-label="Toolbox">
    <button class="toolbar-button" aria-label="Selection Tool" title="Selection Tool">
      <svg viewBox="0 0 24 24"><path d="M3 3l18 9-18 9z"/></svg>
    </button>
    <button class="toolbar-button" aria-label="Pen Tool" title="Pen Tool">
      <svg viewBox="0 0 24 24"><path d="M2 22l20-20"/></svg>
    </button>
    <button class="toolbar-button" aria-label="Rectangle Tool" title="Rectangle Tool">
      <svg viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16"/></svg>
    </button>
    <button class="toolbar-button" aria-label="Ellipse Tool" title="Ellipse Tool">
      <svg viewBox="0 0 24 24"><ellipse cx="12" cy="12" rx="8" ry="6"/></svg>
    </button>
    <button class="toolbar-button" aria-label="Text Tool" title="Text Tool">
      <svg viewBox="0 0 24 24"><path d="M6 4h12v2h-5v14h-2V6H6z"/></svg>
    </button>
    <button class="toolbar-button" aria-label="Paintbrush Tool" title="Paintbrush Tool">
      <svg viewBox="0 0 24 24"><path d="M4 20l16-16"/></svg>
    </button>
    <button class="toolbar-button" aria-label="Eyedropper Tool" title="Eyedropper Tool">
      <svg viewBox="0 0 24 24"><path d="M7 17l7-7"/></svg>
    </button>
    <button class="toolbar-button" aria-label="Zoom Tool" title="Zoom Tool">
      <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="7"/><line x1="16" y1="16" x2="22" y2="22"/></svg>
    </button>
    <button class="toolbar-button" aria-label="Hand Tool" title="Hand Tool">
      <svg viewBox="0 0 24 24"><path d="M6 9v9h9"/></svg>
    </button>
  </div>

  <!-- Main content area -->
  <div class="main-content" role="main">

    <!-- Canvas container -->
    <div id="canvas-container" tabindex="0" aria-label="Drawing canvas container">
      <canvas id="canvas" width="960" height="540" aria-label="Drawing canvas"></canvas>
    </div>

    <!-- Side panels -->
    <div class="side-panels" aria-label="Side panels">

      <!-- Layers panel -->
      <section class="panel layers-panel" aria-labelledby="layersTitle" tabindex="0">
        <h2 id="layersTitle">Layers</h2>
        <div class="layers-list" role="list" id="layersList" tabindex="0" aria-label="List of layers">
          <!-- Layers inserted here dynamically -->
        </div>
      </section>

      <!-- Properties panel -->
      <section class="panel properties-panel" aria-labelledby="propertiesTitle" tabindex="0">
        <h2 id="propertiesTitle">Properties</h2>
        <form class="properties-grid" aria-live="polite" aria-atomic="true" id="propertiesForm">
          <label for="propName">Name</label>
          <input type="text" id="propName" name="name" autocomplete="off" />

          <label for="propX">X Position</label>
          <input type="number" id="propX" name="x" step="1" />

          <label for="propY">Y Position</label>
          <input type="number" id="propY" name="y" step="1" />

          <label for="propWidth">Width</label>
          <input type="number" id="propWidth" name="width" step="1" />

          <label for="propHeight">Height</label>
          <input type="number" id="propHeight" name="height" step="1" />

          <label for="propFill">Fill Color</label>
          <input type="color" id="propFill" name="fill" value="#0078D7" />

          <label for="propStroke">Stroke Color</label>
          <input type="color" id="propStroke" name="stroke" value="#000000" />
        </form>
      </section>

    </div>

  </div>

  <!-- Status bar -->
  <div class="status-bar" role="status" aria-live="polite" aria-atomic="true">
    Ready
  </div>

  <script>
    // Canvas basics
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    // Example shapes (for demo)
    let layers = [
      { id: 1, name: 'Background', visible: true, x: 50, y: 50, width: 300, height: 200, fill: '#0078D7', stroke: '#000000' },
      { id: 2, name: 'Circle', visible: true, x: 400, y: 100, width: 150, height: 150, fill: '#00aaff', stroke: '#003355' },
      { id: 3, name: 'Rectangle', visible: true, x: 200, y: 300, width: 200, height: 100, fill: '#d0e7ff', stroke: '#004080' },
    ];

    let selectedLayerId = null;

    const layersList = document.getElementById('layersList');
    const propertiesForm = document.getElementById('propertiesForm');

    // Render layers list UI
    function renderLayersList() {
      layersList.innerHTML = '';
      layers.forEach(layer => {
        const div = document.createElement('div');
        div.className = 'layer-item' + (layer.id === selectedLayerId ? ' selected' : '');
        div.textContent = layer.name;
        div.tabIndex = 0;
        div.setAttribute('role', 'listitem');
        div.setAttribute('aria-label', `Layer ${layer.name} ${layer.visible ? 'visible' : 'hidden'}`);
        // Click selects layer
        div.onclick = () => {
          selectedLayerId = layer.id;
          renderLayersList();
          renderProperties();
          drawCanvas();
          updateStatus(`Selected layer: ${layer.name}`);
        };
        div.onkeydown = (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            div.click();
          }
        };

        // Visibility toggle icon
        const vis = document.createElement('span');
        vis.className = 'layer-visibility';
        vis.title = layer.visible ? 'Hide Layer' : 'Show Layer';
        vis.innerHTML = layer.visible 
          ? '&#128065;'  // 👁️
          : '&#128683;'; // 🚫 (no entry sign)
        vis.onclick = (e) => {
          e.stopPropagation();
          layer.visible = !layer.visible;
          renderLayersList();
          drawCanvas();
          updateStatus(`${layer.visible ? 'Shown' : 'Hidden'} layer: ${layer.name}`);
        };
        vis.tabIndex = 0;
        vis.onkeydown = (e) => {
          if(e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            vis.click();
          }
        };

        div.appendChild(vis);
        layersList.appendChild(div);
      });
    }

    // Render properties panel from selected layer
    function renderProperties() {
      if (!selectedLayerId) {
        propertiesForm.reset();
        propertiesForm.querySelectorAll('input').forEach(input => input.disabled = true);
        return;
      }
      const layer = layers.find(l => l.id === selectedLayerId);
      if (!layer) return;
      propertiesForm.querySelectorAll('input').forEach(input => input.disabled = false);

      propertiesForm.propName.value = layer.name;
      propertiesForm.propX.value = layer.x;
      propertiesForm.propY.value = layer.y;
      propertiesForm.propWidth.value = layer.width;
      propertiesForm.propHeight.value = layer.height;
      propertiesForm.propFill.value = layer.fill;
      propertiesForm.propStroke.value = layer.stroke;
    }

    // Update layer on property change
    propertiesForm.addEventListener('input', (e) => {
      if (!selectedLayerId) return;
      const layer = layers.find(l => l.id === selectedLayerId);
      if (!layer) return;
      const target = e.target;
      switch (target.name) {
        case 'name':
          layer.name = target.value;
          break;
        case 'x':
          layer.x = parseInt(target.value) || 0;
          break;
        case 'y':
          layer.y = parseInt(target.value) || 0;
          break;
        case 'width':
          layer.width = parseInt(target.value) || 0;
          break;
        case 'height':
          layer.height = parseInt(target.value) || 0;
          break;
        case 'fill':
          layer.fill = target.value;
          break;
        case 'stroke':
          layer.stroke = target.value;
          break;
      }
      renderLayersList();
      drawCanvas();
      updateStatus(`Updated layer: ${layer.name}`);
    });

    // Draw the layers on the canvas
    function drawCanvas() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      layers.forEach(layer => {
        if (!layer.visible) return;
        ctx.fillStyle = layer.fill;
        ctx.strokeStyle = layer.stroke;
        ctx.lineWidth = 2;
        ctx.beginPath();

        // Just rectangles and circles demo
        if (layer.name.toLowerCase().includes('circle')) {
          const cx = layer.x + layer.width / 2;
          const cy = layer.y + layer.height / 2;
          const radiusX = layer.width / 2;
          const radiusY = layer.height / 2;
          ctx.ellipse(cx, cy, radiusX, radiusY, 0, 0, 2 * Math.PI);
          ctx.fill();
          ctx.stroke();
        } else {
          ctx.rect(layer.x, layer.y, layer.width, layer.height);
          ctx.fill();
          ctx.stroke();
        }
      });
    }

    // Status bar update helper
    const statusBar = document.querySelector('.status-bar');
    function updateStatus(text) {
      statusBar.textContent = text;
    }

    // Initial render
    renderLayersList();
    renderProperties();
    drawCanvas();
    updateStatus('Ready');

  </script>

</body>
</html>
