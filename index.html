<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>The Open Project</title>
<link rel="icon" href="/open-source-animate/favicon.ico" type="image/x-icon" />
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

  body {
    margin: 0;
    height: 100vh;
    background: #121212;
    color: #ddd;
    font-family: 'Inter', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    transition: background 0.3s ease, color 0.3s ease;
  }

  /* Dark mode styles */
  body.light-mode {
    background: #f5f5f5;
    color: #222;
  }

  .menu-container {
    display: flex;
    flex-direction: row;
    width: 700px;
    height: 80vh;
    background: #1b1b1b;
    border: 1px solid #333;
    box-shadow: 0 0 6px rgba(0,0,0,0.8);
    padding: 24px 30px;
    box-sizing: border-box;
    gap: 24px;
    transition: background 0.3s ease;
  }

  body.light-mode .menu-container {
    background: #fff;
    border-color: #ccc;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }

  .left-menu {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 16px;
  }

  h1 {
    margin: 0 0 24px 0;
    font-weight: 600;
    font-size: 2rem;
    color: #fff;
    letter-spacing: 0.05em;
    text-align: center;
    user-select: none;
    transition: color 0.3s ease;
  }

  body.light-mode h1 {
    color: #222;
  }

  button {
    background: transparent;
    border: 1.5px solid #666;
    color: #ccc;
    font-weight: 600;
    font-size: 14px;
    padding: 14px 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    user-select: none;
    transition: all 0.15s ease;
    text-transform: uppercase;
  }
  button svg {
    width: 20px;
    height: 20px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
  }
  button:hover {
    border-color: #fff;
    color: #fff;
    background: #222;
  }
  body.light-mode button {
    border-color: #aaa;
    color: #444;
  }
  body.light-mode button:hover {
    border-color: #555;
    color: #000;
    background: #eee;
  }
  button:focus {
    outline: none;
    box-shadow: 0 0 4px #555;
  }

  .right-menu {
    width: 300px;
    background: #222;
    border: 1px solid #333;
    border-radius: 4px;
    display: flex;
    flex-direction: column;
    padding: 20px;
    box-sizing: border-box;
    transition: background 0.3s ease, border-color 0.3s ease;
  }
  body.light-mode .right-menu {
    background: #fafafa;
    border-color: #ccc;
  }

  .recent-projects strong {
    color: #aaa;
    font-size: 13px;
    margin-bottom: 14px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
  }
  body.light-mode .recent-projects strong {
    color: #555;
  }
  .recent-item {
    background: #1c1c1c;
    padding: 8px 12px;
    margin-bottom: 8px;
    border-radius: 3px;
    cursor: pointer;
    color: #bbb;
    font-size: 13px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: background-color 0.2s ease;
  }
  body.light-mode .recent-item {
    background: #eee;
    color: #333;
  }
  .recent-item:hover {
    background: #333;
    color: #eee;
  }
  body.light-mode .recent-item:hover {
    background: #ccc;
    color: #111;
  }

  footer {
    position: fixed;
    bottom: 8px;
    width: 100%;
    text-align: center;
    font-size: 11px;
    color: #444;
    user-select: none;
    font-weight: 400;
    font-family: monospace;
    transition: color 0.3s ease;
  }
  body.light-mode footer {
    color: #888;
  }

  .modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.75);
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }
  .modal-content {
    background: #1b1b1b;
    padding: 24px;
    border: 1px solid #333;
    box-shadow: 0 0 12px #000;
    max-width: 360px;
    color: #ccc;
    font-size: 14px;
    border-radius: 6px;
    transition: background 0.3s ease, color 0.3s ease;
  }
  body.light-mode .modal-content {
    background: #fff;
    border-color: #ccc;
    color: #222;
  }
  .modal-content h2 {
    margin-top: 0;
    margin-bottom: 14px;
    font-weight: 600;
    color: #eee;
    text-transform: uppercase;
    font-size: 18px;
    letter-spacing: 0.05em;
  }
  body.light-mode .modal-content h2 {
    color: #222;
  }
  .modal-content p {
    line-height: 1.4;
    margin-bottom: 12px;
  }
  .modal-content button {
    margin-top: 16px;
    background: transparent;
    border: 1px solid #666;
    color: #bbb;
    padding: 8px 14px;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    transition: all 0.2s ease;
    border-radius: 4px;
  }
  .modal-content button:hover {
    background: #222;
    color: #fff;
    border-color: #fff;
  }
  body.light-mode .modal-content button:hover {
    background: #ddd;
    color: #222;
    border-color: #555;
  }
</style>
</head>
<body>

<div class="menu-container" role="main" aria-label="Main menu">
  <div class="left-menu" aria-label="Primary actions">
    <h1>The Open Project</h1>
    <button onclick="window.location.href='editor.html'" aria-label="New Animate Project">
      üé® New Animate Project
    </button>
    <button onclick="window.location.href='open-illustrator.html'" aria-label="New Illustrator Project">
      üñåÔ∏è New Illustrator Project
    </button>
    <input type="file" accept=".oa,.oi" style="display: none;" id="fileInput">
<button onclick="document.getElementById('fileInput').click()">üìÇ Open File</button>

    <button onclick="showAbout()" aria-label="About this project">
      ‚ÑπÔ∏è About
    </button>

    <hr style="border-color:#444; margin: 20px 0;">

    <button onclick="randomAlert()" aria-label="Random alert">‚ö° Surprise Alert</button>
    <button onclick="changeBackground()" aria-label="Change background color">üé® Change Background</button>
    <button onclick="toggleDarkMode()" aria-label="Toggle light/dark mode">üåó Toggle Dark Mode</button>
    <button onclick="showTime()" aria-label="Show current time">‚è∞ Show Time</button>
    <button onclick="openQuote()" aria-label="Open inspirational quote">üí° Quote</button>
  </div>

  <div class="right-menu" aria-label="Recent projects">
    <div class="recent-projects" id="recentList">
      <strong>Recent Projects</strong>
    </div>
  </div>
</div>

<footer>The Open Project v1.2 ‚Äì Free &amp; Open Source</footer>

<!-- About Modal -->
<div class="modal" id="aboutModal" role="dialog" aria-modal="true" aria-labelledby="aboutTitle">
  <div class="modal-content">
    <h2 id="aboutTitle">About Open Animate</h2>
    <p>Open Animate is a free, open-source web-based animation tool inspired by Adobe Animate.</p>
    <p>Created for creators who want full control without subscriptions.</p>
    <button onclick="closeAbout()" aria-label="Close about modal">Close</button>
  </div>
</div>

<!-- Quote Modal -->
<div class="modal" id="quoteModal" role="dialog" aria-modal="true" aria-labelledby="quoteTitle">
  <div class="modal-content">
    <h2 id="quoteTitle">Inspirational Quote</h2>
    <p id="quoteText"></p>
    <button onclick="closeQuote()" aria-label="Close quote modal">Close</button>
  </div>
</div>

<script>
  const recentList = document.getElementById('recentList');

  // Load recent projects
  function loadRecents() {
    let recents = JSON.parse(localStorage.getItem('recentProjects') || '[]');
    recentList.innerHTML = '<strong>Recent Projects</strong>';
    recents.forEach((proj) => {
      const div = document.createElement('div');
      div.className = 'recent-item';
      div.textContent = proj.name;
      div.tabIndex = 0;
      div.role = 'button';
      div.setAttribute('aria-label', `Open project ${proj.name}`);
      div.onclick = () => {
        localStorage.setItem('loadedProject', proj.data);
        window.location.href = 'editor.html';
      };
      div.onkeydown = (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          div.click();
        }
      };
      recentList.appendChild(div);
    });
  }
  loadRecents();

  // About modal
  function showAbout() {
    const modal = document.getElementById('aboutModal');
    modal.style.display = 'flex';
    modal.querySelector('button').focus();
  }
  function closeAbout() {
    document.getElementById('aboutModal').style.display = 'none';
  }

  document.getElementById('fileInput').addEventListener('change', (e) => {
  const file = e.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = function (e) {
    localStorage.setItem('loadedProject', e.target.result);
    window.location.href = file.name.endsWith('.oi') ? 'open-illustrator.html' : 'editor.html';
  };
  reader.readAsText(file);
});


  // Quote modal
  function openQuote() {
    const quotes = [
      "Creativity takes courage. ‚Äì Henri Matisse",
      "Every artist was first an amateur. ‚Äì Ralph Waldo Emerson",
      "Art enables us to find ourselves and lose ourselves at the same time. ‚Äì Thomas Merton",
      "The only way to do great work is to love what you do. ‚Äì Steve Jobs",
      "Don‚Äôt wait for inspiration. It comes while working. ‚Äì Henri Matisse",
    ];
    const quoteText = document.getElementById('quoteText');
    const modal = document.getElementById('quoteModal');
    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
    quoteText.textContent = randomQuote;
    modal.style.display = 'flex';
    modal.querySelector('button').focus();
  }
  function closeQuote() {
    document.getElementById('quoteModal').style.display = 'none';
  }

  // Random alert
  function randomAlert() {
    alert("Surprise! Keep creating awesome stuff!");
  }

  // Change background to random color
  function changeBackground() {
    const colors = ['#121212', '#1e1e1e', '#003366', '#330033', '#222222', '#004d40', '#263238'];
    document.body.style.background = colors[Math.floor(Math.random() * colors.length)];
  }

  // Toggle light/dark mode
  function toggleDarkMode() {
    document.body.classList.toggle('light-mode');
  }

  // Show current time alert
  function showTime() {
    const now = new Date();
    alert("Current time: " + now.toLocaleTimeString());
  }
</script>

</body>
</html>
